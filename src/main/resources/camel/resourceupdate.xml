<routes xmlns="http://camel.apache.org/schema/spring">
    <route id="resourceUpdateHandler">

        <onException>
            <exception>io.dataspaceconnector.exceptions.NoAffectedResourceException</exception>
            <to uri="direct:handleNoAffectedResourceException"/>
        </onException>

        <onException>
            <exception>io.dataspaceconnector.exceptions.InvalidAffectedResourceException</exception>
            <to uri="direct:handleInvalidAffectedResourceException"/>
        </onException>

        <onException>
            <exception>java.lang.IllegalStateException</exception>
            <to uri="direct:handleResponseMessageBuilderException"/>
        </onException>

        <onException>
            <exception>java.lang.IllegalArgumentException</exception>
            <to uri="direct:handleIllegalArgumentException"/>
        </onException>

        <from uri="direct:resourceUpdateHandler"/>
        <to uri="direct:ids-validation"/>
        <process ref="AffectedResourceValidator"/>
        <process ref="ResourceTransformer"/>
        <process ref="CorrectAffectedResourceValidator"/>
        <process ref="ResourceUpdateProcessor"/>
    </route>
</routes>
